"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[753],{1753:(ne,Z,d)=>{d.r(Z),d.d(Z,{LoadsModule:()=>te});var _=d(6895),s=d(4006),N=d(1264),D=d(5435),w=d(7754),q=d(8723),Q=d(441),k=d(3348),A=d(6630),f=d(1059),C=d(4850),c=d(5412),u=d(5439),p=d(2340),e=d(4650),v=d(529),H=d(9349),m=d(9549),b=d(284),T=d(3848),y=d(4859),L=d(7957),I=d(3238),h=d(9602),E=d(6709),F=d(4385),g=d(1576),J=d(7100);const O=["picker"];function G(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-checkbox",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.is_dispatched=o)}),e._uU(2,"Dispactched"),e.qZA(),e.TgZ(3,"mat-checkbox",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.is_brokerage=o)}),e._uU(4,"Brokerage"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.load.is_dispatched)("ngModel",t.load.is_dispatched),e.xp6(2),e.Q6J("checked",t.load.is_brokerage)("ngModel",t.load.is_brokerage)}}function S(i,r){if(1&i&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function $(i,r){if(1&i&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Y(i,r){if(1&i&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function K(i,r){if(1&i&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function P(i,r){if(1&i&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function B(i,r){if(1&i&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function R(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-tab-group")(2,"mat-tab",9)(3,"div",10)(4,"mat-form-field",11)(5,"mat-label"),e._uU(6,"Trip"),e.qZA(),e.TgZ(7,"input",12),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.trip_id=o)}),e.qZA()(),e.TgZ(8,"mat-form-field",11)(9,"mat-label"),e._uU(10,"Type"),e.qZA(),e.TgZ(11,"mat-select",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.type=o)}),e.YNc(12,S,2,2,"mat-option",14),e.qZA()(),e.TgZ(13,"mat-form-field",11)(14,"mat-label"),e._uU(15,"Sub-Type"),e.qZA(),e.TgZ(16,"mat-select",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.subtype=o)}),e.YNc(17,$,2,2,"mat-option",14),e.qZA()()(),e.TgZ(18,"div",1)(19,"mat-form-field",11)(20,"mat-label"),e._uU(21,"Pick Up Date"),e.qZA(),e._UZ(22,"input",15)(23,"mat-datepicker-toggle",16)(24,"ngx-mat-datetime-picker",17,18),e.qZA(),e.TgZ(26,"mat-form-field",11)(27,"mat-label"),e._uU(28,"Del Date"),e.qZA(),e._UZ(29,"input",19)(30,"mat-datepicker-toggle",16)(31,"ngx-mat-datetime-picker",17,20),e.qZA()(),e.TgZ(33,"div",1)(34,"mat-form-field",21)(35,"mat-label"),e._uU(36,"Drivers"),e.qZA(),e._UZ(37,"input",22),e.TgZ(38,"mat-autocomplete",23,24),e.YNc(40,Y,2,2,"mat-option",14),e.ALo(41,"async"),e.qZA()(),e.TgZ(42,"mat-form-field",21)(43,"mat-label"),e._uU(44,"Shippers"),e.qZA(),e._UZ(45,"input",25),e.TgZ(46,"mat-autocomplete",23,26),e.YNc(48,K,2,2,"mat-option",14),e.ALo(49,"async"),e.qZA()(),e.TgZ(50,"mat-form-field",21)(51,"mat-label"),e._uU(52,"Billers"),e.qZA(),e._UZ(53,"input",27),e.TgZ(54,"mat-autocomplete",23,28),e.YNc(56,P,2,2,"mat-option",14),e.ALo(57,"async"),e.qZA()(),e.TgZ(58,"mat-form-field",21)(59,"mat-label"),e._uU(60,"Receivers"),e.qZA(),e._UZ(61,"input",29),e.TgZ(62,"mat-autocomplete",23,30),e.YNc(64,B,2,2,"mat-option",14),e.ALo(65,"async"),e.qZA()()(),e.TgZ(66,"div",1)(67,"mat-form-field",11)(68,"mat-label"),e._uU(69,"PU #"),e.qZA(),e.TgZ(70,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.punum=o)}),e.qZA()(),e.TgZ(71,"mat-form-field",11)(72,"mat-label"),e._uU(73,"BOL #"),e.qZA(),e.TgZ(74,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.bolnum=o)}),e.qZA()(),e.TgZ(75,"mat-form-field",11)(76,"mat-label"),e._uU(77,"Confirmation #"),e.qZA(),e.TgZ(78,"input",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.confirmation=o)}),e.qZA()(),e.TgZ(79,"mat-form-field",11)(80,"mat-label"),e._uU(81,"CHRW #"),e.qZA(),e.TgZ(82,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.chrwnum=o)}),e.qZA()()(),e.TgZ(83,"div",1)(84,"mat-form-field",11)(85,"mat-label"),e._uU(86,"Weight"),e.qZA(),e.TgZ(87,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.weight=o)}),e.qZA()(),e.TgZ(88,"mat-form-field",11)(89,"mat-label"),e._uU(90,"Truck #"),e.qZA(),e.TgZ(91,"input",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.trucknum=o)}),e.qZA()(),e.TgZ(92,"mat-form-field",11)(93,"mat-label"),e._uU(94,"Trailer #"),e.qZA(),e.TgZ(95,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.trailernum=o)}),e.qZA()(),e.TgZ(96,"mat-form-field",11)(97,"mat-label"),e._uU(98,"Sub #"),e.qZA(),e.TgZ(99,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.subnum=o)}),e.qZA()()()(),e.TgZ(100,"mat-tab",39)(101,"div",40)(102,"mat-checkbox",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.is_paid_for=o)}),e._uU(103,"Is Paid"),e.qZA()(),e.TgZ(104,"div",1)(105,"mat-form-field",11)(106,"mat-label"),e._uU(107,"Date Paid"),e.qZA(),e.TgZ(108,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.datepaid=o)}),e.qZA(),e._UZ(109,"mat-datepicker-toggle",16),e.qZA(),e._UZ(110,"mat-datepicker",null,43),e.qZA(),e.TgZ(112,"div",1)(113,"mat-form-field",11)(114,"mat-label"),e._uU(115,"Rate"),e.qZA(),e.TgZ(116,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.rate=o)}),e.qZA(),e.TgZ(117,"span",45),e._uU(118,"$\xa0"),e.qZA()(),e.TgZ(119,"mat-form-field",11)(120,"mat-label"),e._uU(121,"Lumper"),e.qZA(),e.TgZ(122,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.lumper=o)}),e.qZA(),e.TgZ(123,"span",47),e._uU(124,"$\xa0"),e.qZA()(),e.TgZ(125,"mat-form-field",11)(126,"mat-label"),e._uU(127,"Driver Unload"),e.qZA(),e.TgZ(128,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.unload=o)}),e.qZA(),e.TgZ(129,"span",47),e._uU(130,"$\xa0"),e.qZA()()(),e.TgZ(131,"div",1)(132,"mat-form-field",11)(133,"mat-label"),e._uU(134,"Fuel Paid"),e.qZA(),e.TgZ(135,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.fuelpaid=o)}),e.qZA(),e.TgZ(136,"span",45),e._uU(137,"$\xa0"),e.qZA()(),e.TgZ(138,"mat-form-field",11)(139,"mat-label"),e._uU(140,"Fuel SC"),e.qZA(),e.TgZ(141,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.fuelsc=o)}),e.qZA(),e.TgZ(142,"span",47),e._uU(143,"$\xa0"),e.qZA()(),e.TgZ(144,"mat-form-field",11)(145,"mat-label"),e._uU(146,"Misc"),e.qZA(),e.TgZ(147,"input",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.misc=o)}),e.qZA(),e.TgZ(148,"span",47),e._uU(149,"$\xa0"),e.qZA()()(),e.TgZ(150,"div",1)(151,"mat-form-field",11)(152,"mat-label"),e._uU(153,"Layover"),e.qZA(),e.TgZ(154,"input",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.layover=o)}),e.qZA(),e.TgZ(155,"span",45),e._uU(156,"$\xa0"),e.qZA()(),e.TgZ(157,"mat-form-field",11)(158,"mat-label"),e._uU(159,"Detention"),e.qZA(),e.TgZ(160,"input",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.detention=o)}),e.qZA(),e.TgZ(161,"span",47),e._uU(162,"$\xa0"),e.qZA()(),e.TgZ(163,"mat-form-field",11)(164,"mat-label"),e._uU(165,"Exten"),e.qZA(),e.TgZ(166,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.exten=o)}),e.qZA(),e.TgZ(167,"span",47),e._uU(168,"$\xa0"),e.qZA()()(),e.TgZ(169,"div",1)(170,"mat-form-field",11)(171,"mat-label"),e._uU(172,"Total"),e.qZA(),e.TgZ(173,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.total=o)}),e.qZA(),e.TgZ(174,"span",45),e._uU(175,"$\xa0"),e.qZA()(),e.TgZ(176,"mat-form-field",11)(177,"mat-label"),e._uU(178,"All Money"),e.qZA(),e.TgZ(179,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.allmoney=o)}),e.qZA(),e.TgZ(180,"span",47),e._uU(181,"$\xa0"),e.qZA()()()(),e.TgZ(182,"mat-tab",57)(183,"div",40)(184,"mat-form-field",58)(185,"textarea",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.notes=o)}),e.qZA()(),e.TgZ(186,"mat-form-field",58)(187,"textarea",60),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.load.notes1=o)}),e.qZA()()()()()()}if(2&i){const t=e.MAs(25),n=e.MAs(32),o=e.MAs(39),l=e.MAs(47),oe=e.MAs(55),ae=e.MAs(63),U=e.MAs(111),a=e.oxw();e.xp6(7),e.Q6J("ngModel",a.load.trip_id),e.xp6(4),e.Q6J("ngModel",a.load.type),e.xp6(1),e.Q6J("ngForOf",a.loadTypes),e.xp6(4),e.Q6J("ngModel",a.load.subtype),e.xp6(1),e.Q6J("ngForOf",a.loadSubTypes),e.xp6(5),e.Q6J("ngxMatDatetimePicker",t)("formControl",a.dateControl),e.xp6(1),e.Q6J("for",t),e.xp6(1),e.Q6J("showSpinners",a.showSpinners)("showSeconds",a.showSeconds)("stepHour",a.stepHour)("stepMinute",a.stepMinute)("touchUi",a.touchUi)("color",a.primary)("enableMeridian",a.enableMeridian),e.xp6(5),e.Q6J("ngxMatDatetimePicker",n)("formControl",a.delDateControl),e.xp6(1),e.Q6J("for",n),e.xp6(1),e.Q6J("showSpinners",a.showSpinners)("showSeconds",a.showSeconds)("stepHour",a.stepHour)("stepMinute",a.stepMinute)("touchUi",a.touchUi)("color",a.primary)("enableMeridian",a.enableMeridian),e.xp6(6),e.Q6J("formControl",a.driversControl)("matAutocomplete",o),e.xp6(1),e.Q6J("displayWith",a.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(41,87,a.driversOptions)),e.xp6(5),e.Q6J("formControl",a.shipperControl)("matAutocomplete",l),e.xp6(1),e.Q6J("displayWith",a.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(49,89,a.shipperOptions)),e.xp6(5),e.Q6J("formControl",a.billersControl)("matAutocomplete",oe),e.xp6(1),e.Q6J("displayWith",a.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(57,91,a.billersOptions)),e.xp6(5),e.Q6J("formControl",a.receiversControl)("matAutocomplete",ae),e.xp6(1),e.Q6J("displayWith",a.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(65,93,a.receiversOptions)),e.xp6(6),e.Q6J("ngModel",a.load.punum),e.xp6(4),e.Q6J("ngModel",a.load.bolnum),e.xp6(4),e.Q6J("ngModel",a.load.confirmation),e.xp6(4),e.Q6J("ngModel",a.load.chrwnum),e.xp6(5),e.Q6J("ngModel",a.load.weight),e.xp6(4),e.Q6J("ngModel",a.load.trucknum),e.xp6(4),e.Q6J("ngModel",a.load.trailernum),e.xp6(4),e.Q6J("ngModel",a.load.subnum),e.xp6(3),e.Q6J("checked",a.load.is_paid_for)("ngModel",a.load.is_paid_for),e.xp6(6),e.Q6J("matDatepicker",U)("ngModel",a.load.datepaid),e.xp6(1),e.Q6J("for",U),e.xp6(7),e.Q6J("readonly",a.load.is_paid_for)("disabled",a.load.is_paid_for)("ngModel",a.load.rate),e.xp6(6),e.Q6J("readonly",a.load.is_paid_for)("disabled",a.load.is_paid_for)("ngModel",a.load.lumper),e.xp6(6),e.Q6J("readonly",a.load.is_paid_for)("disabled",a.load.is_paid_for)("ngModel",a.load.unload),e.xp6(7),e.Q6J("readonly",a.load.is_paid_for)("disabled",a.load.is_paid_for)("ngModel",a.load.fuelpaid),e.xp6(6),e.Q6J("readonly",a.load.is_paid_for)("disabled",a.load.is_paid_for)("ngModel",a.load.fuelsc),e.xp6(6),e.Q6J("readonly",a.load.is_paid_for)("disabled",a.load.is_paid_for)("ngModel",a.load.misc),e.xp6(7),e.Q6J("readonly",a.load.is_paid_for)("disabled",a.load.is_paid_for)("ngModel",a.load.layover),e.xp6(6),e.Q6J("readonly",a.load.is_paid_for)("disabled",a.load.is_paid_for)("ngModel",a.load.detention),e.xp6(6),e.Q6J("readonly",a.load.is_paid_for)("disabled",a.load.is_paid_for)("ngModel",a.load.exten),e.xp6(7),e.Q6J("value",a.getTotal())("ngModel",a.load.total),e.xp6(6),e.Q6J("value",a.getAllMoney())("ngModel",a.load.allmoney),e.xp6(6),e.Q6J("ngModel",a.load.notes),e.xp6(2),e.Q6J("ngModel",a.load.notes1)}}class M{}let W=(()=>{class i{constructor(t,n,o){this.data=t,this.dialogRef=n,this.http=o,this.disabled=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.enableMeridian=!1,this.stepHour=1,this.stepMinute=5,this.dateControl=new s.NI(null,[s.kI.required]),this.delDateControl=new s.NI(null,[s.kI.required]),this.loadTypes=["Load","Back-Haul"],this.loadSubTypes=["Pre-Load","Pick-Up","Stop"],this.shippers=[],this.shipperControl=new s.NI(new M),this.billers=[],this.billersControl=new s.NI(new M),this.receivers=[],this.receiversControl=new s.NI(new M),this.drivers=[],this.driversControl=new s.NI(new M)}ngOnInit(){this.setupCustomers(),this.data.id>0?this.getLoad():this.load={is_dispatched:!1}}getLoad(){this.http.get(`${p.N.apiUrl}loads/${this.data.id}`).subscribe({next:t=>{this.load=t,console.log(this.load),this.shipperControl.setValue(this.getCustomerFromArray(this.load.shipper_id,this.shippers)),this.billersControl.setValue(this.getCustomerFromArray(this.load.billto_id,this.billers)),this.receiversControl.setValue(this.getCustomerFromArray(this.load.receiver_id,this.receivers)),this.driversControl.setValue(this.getCustomerFromArray(this.load.driver_id,this.drivers)),this.dateControl.setValue(u(this.load.pudate).toDate()),this.delDateControl.setValue(u(this.load.deldate).toDate())},error:t=>console.error(t)})}getCustomerFromArray(t,n){return n.find(o=>o.id===t)}getDropdownData(t){return this.http.get(`${p.N.apiUrl}${t}`)}close(){this.dialogRef.close("close")}save(){this.load.driver_id!==this.driversControl.value.id&&(this.load.driver_id=this.driversControl.value.id),this.load.shipper_id!==this.shipperControl.value.id&&(this.load.shipper_id=this.shipperControl.value.id),this.load.billto_id!==this.billersControl.value.id&&(this.load.billto_id=this.billersControl.value.id),this.load.receiver_id!==this.receiversControl.value.id&&(this.load.receiver_id=this.receiversControl.value.id),this.load.pudate=u(this.dateControl.value).format("YYYY-MM-DDTHH:mm:00.000000Z"),this.load.deldate=u(this.delDateControl.value).format("YYYY-MM-DDTHH:mm:00.000000Z"),this.load.id>0?this.http.patch(`${p.N.apiUrl}loads/${this.data.id}`,this.load).subscribe({next:t=>{console.log(t)},error:t=>console.error(t)}):this.http.post(`${p.N.apiUrl}loads`,this.load).subscribe({next:t=>{console.log(t)},error:t=>console.error(t)}),this.dialogRef.close("saved")}dispatch(){this.load.is_dispatched||(this.load.is_dispatched=!0,this.save())}getTotal(){var t=this.getBaseAmount()+Number(this.load.exten||0)+Number(this.load.fuelpaid||0);this.load.total=t||0}getAllMoney(){var t=this.getBaseAmount()+Number(this.load.rate||0)+Number(this.load.fuelsc||0);return this.load.allmoney=t||0,t||0}getBaseAmount(){return Number(this.load.lumper)+Number(this.load.unload)+Number(this.load.misc)+Number(this.load.layover)+Number(this.load.detention)||0}displayFn(t){return t&&t.name?t.name:""}setupCustomers(){this.getDropdownData("shippers-list").subscribe({next:t=>{this.shippers=t},error:t=>console.error(t)}),this.getDropdownData("receivers-list").subscribe({next:t=>{this.receivers=t},error:t=>console.error(t)}),this.getDropdownData("billers-list").subscribe({next:t=>{this.billers=t},error:t=>console.error(t)}),this.getDropdownData("drivers-list").subscribe({next:t=>{this.drivers=t},error:t=>console.error(t)}),this.shipperOptions=this.shipperControl.valueChanges.pipe((0,f.O)(""),(0,C.U)(t=>this._filterShippers(t||""))),this.billersOptions=this.billersControl.valueChanges.pipe((0,f.O)(""),(0,C.U)(t=>this._filterBillers(t||""))),this.receiversOptions=this.receiversControl.valueChanges.pipe((0,f.O)(""),(0,C.U)(t=>this._filterReceivers(t||""))),this.driversOptions=this.driversControl.valueChanges.pipe((0,f.O)(""),(0,C.U)(t=>this._filterDrivers(t||"")))}_filterShippers(t){let n="";return"string"==typeof t&&(n=t.toLowerCase()),this.shippers.filter(o=>o.name.toLowerCase().includes(n))}_filterBillers(t){let n="";return"string"==typeof t&&(n=t.toLowerCase()),this.billers.filter(o=>o.name.toLowerCase().includes(n))}_filterReceivers(t){let n="";return"string"==typeof t&&(n=t.toLowerCase()),this.receivers.filter(o=>o.name.toLowerCase().includes(n))}_filterDrivers(t){let n="";return"string"==typeof t&&(n=t.toLowerCase()),this.drivers.filter(o=>o.name.toLowerCase().includes(n))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.WI),e.Y36(c.so),e.Y36(v.eN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["fury-add-edit-load"]],viewQuery:function(t,n){if(1&t&&e.Gf(O,5),2&t){let o;e.iGM(o=e.CRH())&&(n.picker=o.first)}},decls:14,vars:3,consts:[["mat-dialog-title","","fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout.gt-sm","row","fxLayoutGap.gt-sm","48px"],[4,"ngIf"],["align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","",3,"click"],["color","primary",2,"padding-left","80px",3,"checked","ngModel","ngModelChange"],["color","primary",2,"padding-left","20px",3,"checked","ngModel","ngModelChange"],["label","Details"],["fxLayout.gt-sm","row","fxLayoutGap.gt-sm","48px",1,"tab-content-sm"],["appearance","outline","color","primary",1,"example-full-width"],["matInput","","placeholder","Trip","readonly","true","disabled","true","type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Pick Up Date",3,"ngxMatDatetimePicker","formControl"],["matSuffix","",3,"for"],[3,"showSpinners","showSeconds","stepHour","stepMinute","touchUi","color","enableMeridian"],["picker",""],["matInput","","placeholder","Del Up Date",3,"ngxMatDatetimePicker","formControl"],["picker2",""],["appearance","outline","color","primary","fxFlex","",1,"example-full-width"],["type","text","placeholder","Drivers","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"displayWith"],["drivers","matAutocomplete"],["type","text","placeholder","Shippers","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["shippers","matAutocomplete"],["type","text","placeholder","Billers","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["billers","matAutocomplete"],["type","text","placeholder","Receivers","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["receivers","matAutocomplete"],["matInput","","placeholder","PU #","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","BOL #","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Confirmation #","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","CHRW #","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Weight","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Truck #","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Trailer #","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Sub #","type","text",3,"ngModel","ngModelChange"],["label","Finance"],["fxLayout.gt-sm","row","fxLayoutGap.gt-sm","48px",1,"tab-content"],["color","primary",3,"checked","ngModel","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["datepicker",""],["type","number","matInput","","placeholder","Rate",1,"example-right-align",3,"readonly","disabled","ngModel","ngModelChange"],["matPrefix","",1,"raquo"],["type","number","matInput","","placeholder","Lumper",1,"example-right-align",3,"readonly","disabled","ngModel","ngModelChange"],["matPrefix",""],["type","number","matInput","","placeholder","Driver Unload",1,"example-right-align",3,"readonly","disabled","ngModel","ngModelChange"],["type","number","matInput","","placeholder","Fuel Paid",1,"example-right-align",3,"readonly","disabled","ngModel","ngModelChange"],["type","number","matInput","","placeholder","Fuel SC",1,"example-right-align",3,"readonly","disabled","ngModel","ngModelChange"],["type","number","matInput","","placeholder","Misc",1,"example-right-align",3,"readonly","disabled","ngModel","ngModelChange"],["type","number","matInput","","placeholder","Layover",1,"example-right-align",3,"readonly","disabled","ngModel","ngModelChange"],["type","number","matInput","","placeholder","Detention",1,"example-right-align",3,"readonly","disabled","ngModel","ngModelChange"],["type","number","matInput","","placeholder","Exten",1,"example-right-align",3,"readonly","disabled","ngModel","ngModelChange"],["type","number","matInput","","readonly","true","disabled","true","placeholder","Total",1,"example-right-align",3,"value","ngModel","ngModelChange"],["type","number","matInput","","readonly","true","disabled","true","placeholder","All Money",1,"example-right-align",3,"value","ngModel","ngModelChange"],["label","Notes"],["appearance","outline","color","primary","fxFlex",""],["matInput","","placeholder","Notes:","cdkTextareaAutosize","","placeholder","Notes","cdkAutosizeMinRows","6",3,"ngModel","ngModelChange"],["matInput","","placeholder","Notes 1","cdkTextareaAutosize","","placeholder","Notes 1","cdkAutosizeMinRows","6",3,"ngModel","ngModelChange"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div"),e._uU(3),e.qZA(),e.YNc(4,G,5,4,"div",2),e.qZA()(),e.TgZ(5,"mat-dialog-content"),e.YNc(6,R,188,95,"div",2),e.qZA(),e.TgZ(7,"mat-dialog-actions",3)(8,"button",4),e.NdJ("click",function(){return n.save()}),e._uU(9,"Save"),e.qZA(),e.TgZ(10,"button",5),e.NdJ("click",function(){return n.dispatch()}),e._uU(11,"Dispatch"),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){return n.close()}),e._uU(13,"Cancel"),e.qZA()()),2&t&&(e.xp6(3),e.hij("",0==n.data.id?"Add":"Edit"," Load"),e.xp6(1),e.Q6J("ngIf",n.load),e.xp6(2),e.Q6J("ngIf",n.load))},dependencies:[_.sg,_.O5,s.Fj,s.wV,s.JJ,s.oH,s.On,H.IC,m.KE,m.hX,m.qo,m.R9,b.Nt,T.SP,T.uX,y.lW,c.uh,c.xY,c.H8,L.XC,L.ZL,I.ey,h.Mq,h.hl,h.nW,E.oG,F.gD,g.xw,g.SQ,g.Wh,g.yH,J.AB,J.g2,_.Ov],styles:[".example-full-width[_ngcontent-%COMP%]{width:250px}.tab-content[_ngcontent-%COMP%]{margin-top:40px}.tab-content-sm[_ngcontent-%COMP%]{margin-top:20px}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.raquo[_ngcontent-%COMP%]{position:relative;top:-4px}"]}),i})();var V=d(7392),x=d(7199),j=d(3513),z=d(3981);const X=[{path:"",component:(()=>{class i{constructor(t,n){this.http=t,this.dialog=n,this.loadData=[],this.backHaulData=[],this.searchDate=new Date,this.panelOpenState=!1,this.range=new s.cw({start:new s.NI(new Date),end:new s.NI(new Date)}),this.columnDefs=[{field:"id",hide:!0},{headerName:"Trip",field:"trip_id",width:100},{headerName:"Type",field:"type",width:115},{headerName:"Sub-Type",field:"subtype",width:115},{headerName:"Dispatched",field:"is_dispatched",width:135},{headerName:"Pick-Up Date",field:"pudate",width:175,valueFormatter:this.dateFormatter},{headerName:"Delivery Date",field:"deldate",width:175,valueFormatter:this.dateFormatter},{field:"driver"},{field:"shipper"},{field:"receiver"}]}ngOnInit(){this.getLoads(),this.getBackHauls()}getLoads(){this.http.get(`${p.N.apiUrl}loads?type=Load&deldate=${u(this.searchDate).format("YYYY-MM-DD")}`).subscribe({next:t=>{this.loadData=t},error:t=>console.error(t)})}getBackHauls(){this.http.get(`${p.N.apiUrl}loads?type=Back-Haul&pudate=${u(this.searchDate).format("YYYY-MM-DD")}`).subscribe({next:t=>{this.backHaulData=t},error:t=>console.error(t)})}onCellClicked(t){console.log(t.data.id),this.openDialog(t.data.id)}openDialog(t){this.dialog.open(W,{data:{id:t},disableClose:!1,width:"1200px",position:{top:"85px"}}).afterClosed().subscribe(n=>{this.result=n,this.getLoads(),this.getBackHauls()})}searchByTrip(){!this.tripId||this.tripId<0||(this.http.get(`${p.N.apiUrl}loads?type=Load&trip_id=${this.tripId}`).subscribe({next:t=>{this.loadData=t},error:t=>console.error(t)}),this.http.get(`${p.N.apiUrl}loads?type=Back-Haul&trip_id=${this.tripId}`).subscribe({next:t=>{this.backHaulData=t},error:t=>console.error(t)}))}onDateChange(t){this.getLoads(),this.getBackHauls()}dateFormatter(t){return u(t.value).format("ll")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.eN),e.Y36(c.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["fury-drivers"]],decls:31,vars:8,consts:[["fxLayout","column",1,"padding"],["fxLayout","column","fxLayout.gt-md","row","fxLayoutGap","24px"],["fxFlex","auto"],["mat-icon-button","","color","primary",3,"click"],["fxLayout","column"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","16px"],["appearance","outline","color","primary"],["matInput","",3,"matDatepicker","ngModel","ngModelChange","dateChange"],["matSuffix","",3,"for"],["datepicker",""],["appearance","outline","color","primary",1,"example-full-width"],["matInput","","placeholder","Trip","type","text",3,"ngModel","ngModelChange","keyup.enter"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["fxFlex","grow"],["fxLayout","column",1,"table-space"],[3,"columnDefs","rowData","cellClicked"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"fury-card",2)(3,"fury-card-header")(4,"fury-card-header-heading")(5,"span"),e._uU(6,"Loads"),e.qZA(),e.TgZ(7,"button",3),e.NdJ("click",function(){return n.openDialog(0)}),e.TgZ(8,"mat-icon"),e._uU(9,"add_circle_outline"),e.qZA()()()(),e.TgZ(10,"fury-card-content",4)(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),e._uU(14,"Search"),e.qZA(),e.TgZ(15,"input",7),e.NdJ("ngModelChange",function(l){return n.searchDate=l})("dateChange",function(l){return n.onDateChange(l)}),e.qZA(),e._UZ(16,"mat-datepicker-toggle",8),e.qZA(),e._UZ(17,"mat-datepicker",null,9),e.TgZ(19,"mat-form-field",10)(20,"mat-label"),e._uU(21,"Trip"),e.qZA(),e.TgZ(22,"input",11),e.NdJ("ngModelChange",function(l){return n.tripId=l})("keyup.enter",function(){return n.searchByTrip()}),e.qZA(),e.TgZ(23,"button",12),e.NdJ("click",function(){return n.searchByTrip()}),e.TgZ(24,"mat-icon"),e._uU(25,"search"),e.qZA()()()(),e.TgZ(26,"fury-scrollbar",13)(27,"div",14)(28,"ms-table",15),e.NdJ("cellClicked",function(l){return n.onCellClicked(l)}),e.qZA()(),e.TgZ(29,"div",4)(30,"ms-table",15),e.NdJ("cellClicked",function(l){return n.onCellClicked(l)}),e.qZA()()()()()()()),2&t){const o=e.MAs(18);e.xp6(15),e.Q6J("matDatepicker",o)("ngModel",n.searchDate),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.Q6J("ngModel",n.tripId),e.xp6(6),e.Q6J("columnDefs",n.columnDefs)("rowData",n.loadData),e.xp6(2),e.Q6J("columnDefs",n.columnDefs)("rowData",n.backHaulData)}},dependencies:[s.Fj,s.JJ,s.On,m.KE,m.hX,m.R9,b.Nt,V.Hw,y.lW,h.Mq,h.hl,h.nW,g.xw,g.SQ,g.yH,x.i0,x.$X,x.eP,x.z8,j.x,z.a],styles:[".adv-search[_ngcontent-%COMP%]{margin-bottom:20px}.table-space[_ngcontent-%COMP%]{margin-bottom:50px}"]}),i})()}];let ee=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[A.Bz.forChild(X),A.Bz]}),i})(),te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.ez,s.UX,s.u5,w.q,N.J,D.O,q.Y,Q.sF,k.U,ee]}),i})()}}]);