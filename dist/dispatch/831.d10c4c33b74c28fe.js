"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[831],{831:(I,g,n)=>{n.r(g),n.d(g,{UserModule:()=>L});var c=n(6895),u=n(4006),v=n(1264),x=n(5435),y=n(7754),M=n(8723),Z=n(441),A=n(3348),f=n(6630),i=n(5412),m=n(2340),t=n(4650),h=n(529),C=n(9549),T=n(284),U=n(4859),d=n(1576);function N(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",5)(2,"mat-form-field",6)(3,"mat-label"),t._uU(4,"Name"),t.qZA(),t.TgZ(5,"input",7),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.user.name=r)}),t.qZA()(),t.TgZ(6,"mat-form-field",6)(7,"mat-label"),t._uU(8,"Email"),t.qZA(),t.TgZ(9,"input",8),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.user.email=r)}),t.qZA()()(),t.TgZ(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),t._uU(13,"Password"),t.qZA(),t.TgZ(14,"input",9),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.user.password=r)}),t.qZA()(),t.TgZ(15,"mat-form-field",6)(16,"mat-label"),t._uU(17,"Confirm Password"),t.qZA(),t.TgZ(18,"input",10),t.NdJ("ngModelChange",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.confirmPassword=r)}),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.user.name),t.xp6(4),t.Q6J("ngModel",e.user.email),t.xp6(5),t.Q6J("ngModel",e.user.password),t.xp6(4),t.Q6J("ngModel",e.confirmPassword)}}let J=(()=>{class o{constructor(e,s,r){this.data=e,this.dialogRef=s,this.http=r}ngOnInit(){this.data.id>0?this.getUser():this.user={name:""}}getUser(){this.http.get(`${m.N.apiUrl}users/${this.data.id}`).subscribe({next:e=>{this.user=e,console.log(this.user)},error:e=>console.error(e)})}close(){this.dialogRef.close("close")}save(){console.log(this.user),this.user.id>0?this.http.patch(`${m.N.apiUrl}users/${this.data.id}`,this.user).subscribe({next:e=>{console.log(e)},error:e=>console.error(e)}):this.http.post(`${m.N.apiUrl}users`,this.user).subscribe({next:e=>{console.log(e)},error:e=>console.error(e)}),this.dialogRef.close("saved")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.WI),t.Y36(i.so),t.Y36(h.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["fury-add-edit-user"]],decls:10,vars:2,consts:[["mat-dialog-title","","fxLayout","row","fxLayoutAlign","space-between center"],[4,"ngIf"],["align","end"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["fxLayout.gt-sm","row","fxLayoutGap.gt-sm","48px",1,"tab-content"],["appearance","outline","color","primary","fxFlex",""],["matInput","","placeholder","Name","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Email","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Password","type","password",3,"ngModel","ngModelChange"],["matInput","","placeholder","Confirm Password","type","password",3,"ngModel","ngModelChange"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div"),t._uU(2),t.qZA()(),t.TgZ(3,"mat-dialog-content"),t.YNc(4,N,19,4,"div",1),t.qZA(),t.TgZ(5,"mat-dialog-actions",2)(6,"button",3),t.NdJ("click",function(){return s.close()}),t._uU(7,"Cancel"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return s.save()}),t._uU(9,"Save"),t.qZA()()),2&e&&(t.xp6(2),t.hij("",0==s.data.id?"Add":"Edit"," User"),t.xp6(2),t.Q6J("ngIf",s.user))},dependencies:[c.O5,u.Fj,u.JJ,u.On,C.KE,C.hX,T.Nt,U.lW,i.uh,i.xY,i.H8,d.xw,d.SQ,d.Wh,d.yH],styles:[".tab-content[_ngcontent-%COMP%]{margin-top:40px}"]}),o})();var w=n(5439),b=n(7392),p=n(7199),E=n(3513),F=n(3981);const D=[{path:"",component:(()=>{class o{constructor(e,s){this.http=e,this.dialog=s,this.rowData=[],this.columnDefs=[{field:"id",width:100,hide:!0},{field:"name",width:200},{field:"email",width:350},{headerName:"Created",field:"created_at",width:250,valueFormatter:this.dateFormatter},{headerName:"Last Updated",field:"updated_at",width:250,valueFormatter:this.dateFormatter}]}ngOnInit(){this.getUsers()}getUsers(){this.http.get(`${m.N.apiUrl}users`).subscribe({next:e=>{this.rowData=e},error:e=>console.error(e)})}onCellClicked(e){console.log(e.data.id),this.openDialog(e.data.id)}openDialog(e){this.dialog.open(J,{data:{id:e},disableClose:!1,width:"1200px",position:{top:"85px"}}).afterClosed().subscribe(s=>{this.result=s,this.getUsers()})}dateFormatter(e){return w(e.value).format("MMMM Do YYYY, h:mm a")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.eN),t.Y36(i.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["fury-users"]],decls:13,vars:2,consts:[["fxLayout","column",1,"padding"],["fxLayout","column","fxLayout.gt-md","row","fxLayoutGap","24px"],["fxFlex","auto"],["mat-icon-button","","color","primary",3,"click"],["fxLayout","column"],["fxFlex","grow",1,"icon-list"],[3,"columnDefs","rowData","cellClicked"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"fury-card",2)(3,"fury-card-header")(4,"fury-card-header-heading")(5,"span"),t._uU(6,"Users"),t.qZA(),t.TgZ(7,"button",3),t.NdJ("click",function(){return s.openDialog(0)}),t.TgZ(8,"mat-icon"),t._uU(9,"add_circle_outline"),t.qZA()()()(),t.TgZ(10,"fury-card-content",4)(11,"fury-scrollbar",5)(12,"ms-table",6),t.NdJ("cellClicked",function(l){return s.onCellClicked(l)}),t.qZA()()()()()()),2&e&&(t.xp6(12),t.Q6J("columnDefs",s.columnDefs)("rowData",s.rowData))},dependencies:[b.Hw,U.lW,d.xw,d.SQ,d.yH,p.i0,p.$X,p.eP,p.z8,E.x,F.a]}),o})()}];let Y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.Bz.forChild(D),f.Bz]}),o})(),L=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,Y,c.ez,c.ez,u.UX,u.u5,y.q,v.J,x.O,M.Y,Z.sF,A.U]}),o})()}}]);